

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>Installing MicroShift from RPM | Installing | MicroShift Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('Branch Build');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      

      

      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          
              
                <a href="../welcome/index.html">MicroShift Branch Build</a>
              
        
        
      </li>
      <li class="hidden-xs active">
        <a href="../microshift_install/microshift-install-rpm.html">Installing</a>
      </li>
      
      <li class="hidden-xs active">
        Installing MicroShift from RPM
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/dedicated-4/microshift_install/microshift-install-rpm.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://github.com/openshift/openshift-docs/issues/new?title=[online] Issue in file microshift_install/microshift-install-rpm.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>
          About
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup0" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../welcome/index.html">Welcome</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../welcome/legal-notice.html">Legal notice</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>
          Getting Started
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup1" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../microshift_getting-started/microshift-understanding.html">Understanding MicroShift</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../microshift_getting-started/microshift-architecture.html">Architecture</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-down"></span>
          Installing
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup2" class="collapse in list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class=" active" href="../microshift_install/microshift-install-rpm.html">Installing MicroShift from RPM</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../microshift_install/microshift-install-rhel-for-edge.html">Installing MicroShift in a RHEL for Edge Image</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>
          API reference
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup3" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-0">
                <span id="sgSpan-3-0" class="fa fa-caret-right"></span>
                  &nbsp;Network APIs

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-3-0" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../rest_api/network_apis/route-route-openshift-io-v1.html">
                      Route [route.openshift.io/v1]
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>
                  &nbsp;Security APIs

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../rest_api/security_apis/securitycontextconstraints-security-openshift-io-v1.html">
                      SecurityContextConstraints [security.openshift.io/v1]
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>
          CLI tools
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup4" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../cli_reference/index.html">CLI tools overview</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-1">
                <span id="sgSpan-4-1" class="fa fa-caret-right"></span>
                  &nbsp;OpenShift CLI (oc)

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-4-1" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../cli_reference/openshift_cli/getting-started-cli.html">
                      Getting started with the OpenShift CLI
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../cli_reference/openshift_cli/configuring-cli.html">
                      Configuring the OpenShift CLI
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../cli_reference/openshift_cli/managing-cli-profiles.html">
                      Managing CLI profiles
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../cli_reference/openshift_cli/extending-cli-plugins.html">
                      Extending the OpenShift CLI with plug-ins
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../cli_reference/openshift_cli/developer-cli-commands.html">
                      OpenShift CLI developer command reference
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../cli_reference/openshift_cli/usage-oc-kubectl.html">
                      Usage of oc and kubectl commands
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>
          Troubleshooting
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup5" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../microshift_support/microshift-troubleshooting.html">MicroShift Troubleshooting</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Installing MicroShift from RPM
          </h1>
        </div>
        
        
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#installing-microshift-from-rpm">Installing MicroShift from RPM</a>
<ul class="sectlevel2">
<li><a href="#creating-microshift-development-environment">Creating the MicroShift development environment</a></li>
<li><a href="#configuring-microshift-virtual-machine">Configuring the MicroShift virtual machine</a></li>
<li><a href="#building-microshift-on-virtual-machine">Building MicroShift on your virtual machine</a></li>
<li><a href="#preparing-microshift-executable">Preparing the MicroShift executable runtime</a></li>
<li><a href="#stopping-microshift-executable">Stopping the MicroShift deployment</a></li>
<li><a href="#configuring-running-microshift-executable">Configuring and running MicroShift</a></li>
<li><a href="#stopping-microshift-executable">Stopping the MicroShift deployment</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can install MicroShift from an RPM on a virtual machine with Red Hat Enterprise Linux for Edge (RHEL for Edge) 8, or on a RHEL for Edge production-similar environment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-microshift-from-rpm"><a class="anchor" href="#installing-microshift-from-rpm"></a>Installing MicroShift from RPM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the following procedures to create a MicroShift development environment on Red Hat Enterprise Linux for Edge (RHEL for Edge) 8.7 or greater by following the content in this section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>RHEL for Edge 9.0 is currently unsupported for MicroShift deployments.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To install MicroShift on a RHEL for Edge production-similar environment, see "Installing MicroShift on RHEL for Edge".</p>
</div>
<div class="sect2">
<h3 id="creating-microshift-development-environment"><a class="anchor" href="#creating-microshift-development-environment"></a>Creating the MicroShift development environment</h3>
<div class="paragraph">
<p>Use the following procedure to set up your MicroShift development environment.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download Red Hat Enterprise Linux for Edge (RHEL for Edge) 8.7 or greater from the <a href="https://developers.redhat.com/products/rhel/download">Download Red Hat Enterprise Linux</a> page.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>RHEL for Edge 9.0 is currently unsupported for MicroShift deployments.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create a RHEL for Edge 8 virtual machine with the following settings:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>2 cores</p>
</li>
<li>
<p>4096 MB of RAM</p>
</li>
<li>
<p>50 GB of storage</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Visual Studio Code might consume up to 2 GB of RAM. For running the IDE on the development virtual machine, it is recommended to allocate at least 6144 MB of RAM in total.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Move the ISO image to the <code>/var/lib/libvirt/images</code> directory.</p>
</li>
<li>
<p>Enter the following command to create the virtual machine:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>dnf <span class="nb">install</span> <span class="nt">-y</span> libvirt virt-manager virt-viewer libvirt-client qemu-kvm qemu-img
<span class="go">
VMNAME="microshift-dev"
</span><span class="gp">sudo -b bash -c " \
cd /var/lib/libvirt/images/ &amp;&amp; \
virt-install \
    --name $</span><span class="o">{</span>VMNAME<span class="o">}</span> <span class="se">\</span>
    <span class="nt">--vcpus</span> 2 <span class="se">\</span>
    <span class="nt">--memory</span> 4096 <span class="se">\</span>
    <span class="nt">--disk</span> <span class="nv">path</span><span class="o">=</span>./<span class="k">${</span><span class="nv">VMNAME</span><span class="k">}</span>.qcow2,size<span class="o">=</span>50 <span class="se">\</span>
    <span class="nt">--network</span> <span class="nv">network</span><span class="o">=</span>default,model<span class="o">=</span>virtio <span class="se">\</span>
    <span class="nt">--os-type</span> generic <span class="se">\</span>
    <span class="nt">--events</span> <span class="nv">on_reboot</span><span class="o">=</span>restart <span class="se">\</span>
    <span class="nt">--cdrom</span> ./rhel-8.6-<span class="si">$(</span><span class="nb">uname</span> <span class="nt">-i</span><span class="si">)</span><span class="nt">-boot</span>.iso <span class="se">\</span>
<span class="s2">"</span></code></pre>
</div>
</div>
</li>
<li>
<p>When prompted by the OS installation wizard, configure a MicroShift administrator user and root password.</p>
</li>
<li>
<p>Select <strong>Installation Destination</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Under the <strong>Storage Configuration</strong> subsection, select <strong>Custom</strong>.</p>
</li>
<li>
<p>Select <strong>Done</strong> to open the window for configuring partitions.</p>
</li>
<li>
<p>Under <strong>New Red Hat Enterprise Linux 8.x Installation</strong>, click <strong>Click here to create them automatically.</strong></p>
</li>
<li>
<p>Select the root partition (<code>/</code>).</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>On the navigation pane, set <strong>Desired Capacity</strong> to 40 GiB, then click <strong>Update Settings</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Updating the settings will preserve the rest of the allocatable storage for dynamically provisioned logical volumes. The MicroShift default CSI provisioner requires at least 1 GB of unallocated storage in the volume group. You can adjust the capacity as desired.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Done</strong>.</p>
</li>
<li>
<p>On the <strong>Summary of Changes</strong> page, click <strong>Accept Changes</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Connect to a network card and set the hostname of your deployment, for example, <code>microshift-dev.localdomain</code>.</p>
</li>
<li>
<p>Toggle off Red Hat Insights and register the system using your Red Hat credentials.</p>
</li>
<li>
<p>In <strong>Software Selection</strong>, select <strong>Minimal install base environment</strong> and toggle on <strong>Headless Management</strong> to enable cockpit.</p>
</li>
<li>
<p>Click <strong>Begin Installation</strong> and wait until the OS installation is completed.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configuring-microshift-virtual-machine"><a class="anchor" href="#configuring-microshift-virtual-machine"></a>Configuring the MicroShift virtual machine</h3>
<div class="paragraph">
<p>Use the following procedure to configure a virtual machine for MicroShift</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged into your development virtual machine using your MicroShift user credentials.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run the following command to configure root privileges:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">echo</span> <span class="nt">-e</span> <span class="s1">'microshift\tALL=(ALL)\tNOPASSWD: ALL'</span> | <span class="nb">sudo tee</span> /etc/sudoers.d/microshift</code></pre>
</div>
</div>
</li>
<li>
<p>Run the following command to upgrade your system:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>dnf update <span class="nt">-y</span></code></pre>
</div>
</div>
</li>
<li>
<p>Run the following command to install basic dependencies:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>dnf <span class="nb">install</span> <span class="nt">-y</span> git cockpit make gcc selinux-policy-devel rpm-build bash-completion</code></pre>
</div>
</div>
</li>
<li>
<p>Run the following command to enable the remote cockpit console:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">export </span><span class="nv">GO_VER</span><span class="o">=</span>1.18.7<span class="p">;</span> curl <span class="nt">-L</span> <span class="nt">-o</span> go<span class="k">${</span><span class="nv">GO_VER</span><span class="k">}</span>.linux-amd64.tar.gz https://go.dev/dl/go<span class="k">${</span><span class="nv">GO_VER</span><span class="k">}</span>.linux-amd64.tar.gz <span class="o">&amp;&amp;</span>
<span class="gp">    sudo rm -rf /usr/local/go$</span><span class="o">{</span>GO_VER<span class="o">}</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
    <span class="nb">sudo mkdir</span> <span class="nt">-p</span> /usr/local/go<span class="k">${</span><span class="nv">GO_VER</span><span class="k">}</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
    <span class="nb">sudo tar</span> <span class="nt">-C</span> /usr/local/go<span class="k">${</span><span class="nv">GO_VER</span><span class="k">}</span> <span class="nt">-xzf</span> go<span class="k">${</span><span class="nv">GO_VER</span><span class="k">}</span>.linux-amd64.tar.gz <span class="nt">--strip-components</span> 1 <span class="o">&amp;&amp;</span> <span class="se">\</span>
    <span class="nb">sudo rm</span> <span class="nt">-rfv</span> /usr/local/bin/<span class="o">{</span>go,gofmt<span class="o">}</span>
<span class="gp">    sudo ln --symbolic /usr/local/go1.18.7/bin/go /usr/local/go1.18.7/bin/gofmt /usr/local/bin/ &amp;&amp; \
    rm -rfv go$</span><span class="o">{</span>GO_VER<span class="o">}</span>.linux-amd64.tar.gz</code></pre>
</div>
</div>
</li>
<li>
<p>Access the VM cockpit by visiting <code><a href="https://&lt;vm_ip&gt;:9090" class="bare">https://&lt;vm_ip&gt;:9090</a></code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="building-microshift-on-virtual-machine"><a class="anchor" href="#building-microshift-on-virtual-machine"></a>Building MicroShift on your virtual machine</h3>
<div class="paragraph">
<p>Use the following procedure to build MicroShift in your development virtual machine.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged into your development virtual machine using your MicroShift user credentials.</p>
</li>
<li>
<p>You have configured your MicroShift virtual machine.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Clone the repository to be used for building artifacts:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>git clone https://github.com/openshift/microshift.git ~/microshift</code></pre>
</div>
</div>
</li>
<li>
<p>Change into the cloned MicroShift directory:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cd ~/microshift</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code>make</code> command in the top level of your MicroShift directory:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>make</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If necessary, you can add the <code>DEBUG=true</code> argument to the <code>make</code> command for building a binary that has debug symbols.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After <code>make</code> has completed, an executable MicroShift file can be found in the <code>_output/bin</code> directory.</p>
</div>
</li>
<li>
<p>Run the <code>make</code> command with the <code>rpm</code> or <code>srpm</code> argument in the top level of your MicroShift directory:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>make rpm</code></pre>
</div>
</div>
<div class="paragraph">
<p>Created artifacts can be found in the <code>_output/rpmbuild</code> directory.</p>
</div>
</li>
<li>
<p>Enter the the <code>find</code> command to locate all of the artifacts, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nv">$ </span><span class="nb">cd</span> ~/microshift/ <span class="o">&amp;&amp;</span> find _output <span class="nt">-name</span> <span class="se">\*</span>.rpm</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">_output/rpmbuild/RPMS/x86_64/microshift-4.12.0-2022_10_30_114426_untagged.el8.x86_64.rpm
_output/rpmbuild/RPMS/x86_64/microshift-networking-4.12.0-2022_10_30_114426_untagged.el8.x86_64.rpm
_output/rpmbuild/RPMS/noarch/microshift-selinux-4.12.0-2022_10_30_114426_untagged.el8.noarch.rpm
_output/rpmbuild/SRPMS/microshift-4.12.0-2022_10_30_114426_untagged.el8.src.rpm</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="preparing-microshift-executable"><a class="anchor" href="#preparing-microshift-executable"></a>Preparing the MicroShift executable runtime</h3>
<div class="paragraph">
<p>Use the following procedure to prepare the MicroShift executable runtime.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When working with MicroShift based on a pre-release minor version <code>Y</code> of OpenShift Container Platform, the corresponding RPM repository <code>rhocp-4.$Y-for-rhel-8-$ARCH-rpms</code> will not be available yet. As a workaround, use the <code>Y-1</code> version.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged into your development virtual machine using your MicroShift user credentials.</p>
</li>
<li>
<p>You have configured your MicroShift virtual machine.</p>
</li>
<li>
<p>You have built MicroShift in your development virtual machine.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Enable the necessary repositories by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>subscription-manager repos <span class="se">\</span>
    <span class="nt">--enable</span> rhocp-4.11-for-rhel-8-<span class="si">$(</span><span class="nb">uname</span> <span class="nt">-i</span><span class="si">)</span><span class="nt">-rpms</span> <span class="se">\</span>
    <span class="nt">--enable</span> fast-datapath-for-rhel-8-<span class="si">$(</span><span class="nb">uname</span> <span class="nt">-i</span><span class="si">)</span><span class="nt">-rpms</span></code></pre>
</div>
</div>
</li>
<li>
<p>Install the MicroShift RPM packages by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>dnf localinstall <span class="nt">-y</span> ~/microshift/_output/rpmbuild/RPMS/<span class="k">*</span>/<span class="k">*</span>.rpm</code></pre>
</div>
</div>
</li>
<li>
<p>Download the OpenShift Container Platform pull secret from the <a href="https://console.redhat.com/openshift/downloads#tool-pull-secret"><strong>Downloads</strong></a> page.</p>
</li>
<li>
<p>Copy the pull secret to the <code>/etc/crio/openshift-pull-secret</code> folder.</p>
</li>
<li>
<p>Update the permissions of <code>/etc/crio/openshift-pull-secret</code> so that CRI-O can use it when fetching container images by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo chmod </span>600 /etc/crio/openshift-pull-secret</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="stopping-microshift-executable"><a class="anchor" href="#stopping-microshift-executable"></a>Stopping the MicroShift deployment</h3>
<div class="paragraph">
<p>Use the following procedure to stop your MicroShift deployment.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged into your development virtual machine using your MicroShift user credentials.</p>
</li>
<li>
<p>You have installed the <code>oc</code> CLI and <code>kubectl</code> utilities.</p>
</li>
<li>
<p>You have updated CRI-O, networking, and file system customizations.</p>
</li>
<li>
<p>You have set up your MicroShift development environment.</p>
</li>
<li>
<p>You have configured and built MicroShift on your virtual machine.</p>
</li>
<li>
<p>You have prepared the MicroShift executable runtime.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Enter the following command to stop the MicroShift process:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo kill </span>microshift <span class="o">&amp;&amp;</span> <span class="nb">sleep </span>3</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If MicroShift is running as a service, you must execute the <code>sudo systemctl stop microshift</code> command to shut it down. You can review the output of the <code>journalctl -xu microshift</code> command to verify the service termination.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>(Optional) Enter the following command to perform a full cleanup of your MicroShift deployment, including CRI-O, MicroShift, and OVN caches:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">echo </span>1 | ~/microshift/hack/cleanup.sh</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The full cleanup does not remove OVS configuration applies by the MicroShift service initialization sequence. Run the <code>sudo /usr/bin/configure-ovs.sh</code> command to revert to the original network settings.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Enter the following command to ensure that the MicroShift deployment has been successfully shut down:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ tail -3 /tmp/microshift.log</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-running-microshift-executable"><a class="anchor" href="#configuring-running-microshift-executable"></a>Configuring and running MicroShift</h3>
<div class="paragraph">
<p>Use the following procedure to configure and run a MicroShift deployment</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged into your development virtual machine using your MicroShift user credentials.</p>
</li>
<li>
<p>You have installed the <code>oc</code> CLI and <code>kubectl</code> utilities.</p>
</li>
<li>
<p>You have updated CRI-O, networking, and file system customizations.</p>
</li>
<li>
<p>You have set up your MicroShift development environment.</p>
</li>
<li>
<p>You have configured and built MicroShift on your virtual machine.</p>
</li>
<li>
<p>You have prepared the MicroShift executable runtime.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Enter the following commands to initialize MicroShift depdenencies:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>crio
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl start microshift</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The CRI-O service is started automatically by systemd as one of the MicroShift dependencies. You must enable the CRO-O service to allow MicroShift to run as a standalone executable.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Wait until all pods are up and running. To see the list of pods, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>watch <span class="nb">sudo</span> <span class="si">$(</span>which oc<span class="si">)</span> <span class="nt">--kubeconfig</span> /var/lib/microshift/resources/kubeadmin/kubeconfig get pods <span class="nt">-A</span></code></pre>
</div>
</div>
</li>
<li>
<p>Stop the MicroShift service and clean up the images and configuration data:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">echo </span>1 | ~/microshift/hack/cleanup.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Run the MicroShift executable file by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">nohup sudo</span> ~/microshift/_output/bin/microshift run <span class="o">&gt;&gt;</span> /tmp/microshift.log &amp;</code></pre>
</div>
</div>
</li>
<li>
<p>Examine the <code>/tmp/microshift.log</code> file to ensure that MicroShift successfully started.</p>
</li>
<li>
<p>Copy the <code>kubeconfig</code> file to the default location that can be accessed without administrative privileges by running the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">mkdir</span> <span class="nt">-p</span> ~/.kube/
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo cat</span> /var/lib/microshift/resources/kubeadmin/kubeconfig <span class="o">&gt;</span> ~/.kube/config</code></pre>
</div>
</div>
</li>
<li>
<p>You can verify that MicroShift is running by entering the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get cs
<span class="gp">$</span><span class="w"> </span>watch oc get pods <span class="nt">-A</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="stopping-microshift-executable"><a class="anchor" href="#stopping-microshift-executable"></a>Stopping the MicroShift deployment</h3>
<div class="paragraph">
<p>Use the following procedure to stop your MicroShift deployment.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have logged into your development virtual machine using your MicroShift user credentials.</p>
</li>
<li>
<p>You have installed the <code>oc</code> CLI and <code>kubectl</code> utilities.</p>
</li>
<li>
<p>You have updated CRI-O, networking, and file system customizations.</p>
</li>
<li>
<p>You have set up your MicroShift development environment.</p>
</li>
<li>
<p>You have configured and built MicroShift on your virtual machine.</p>
</li>
<li>
<p>You have prepared the MicroShift executable runtime.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Enter the following command to stop the MicroShift process:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo kill </span>microshift <span class="o">&amp;&amp;</span> <span class="nb">sleep </span>3</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If MicroShift is running as a service, you must execute the <code>sudo systemctl stop microshift</code> command to shut it down. You can review the output of the <code>journalctl -xu microshift</code> command to verify the service termination.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>(Optional) Enter the following command to perform a full cleanup of your MicroShift deployment, including CRI-O, MicroShift, and OVN caches:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">echo </span>1 | ~/microshift/hack/cleanup.sh</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The full cleanup does not remove OVS configuration applies by the MicroShift service initialization sequence. Run the <code>sudo /usr/bin/configure-ovs.sh</code> command to revert to the original network settings.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Enter the following command to ensure that the MicroShift deployment has been successfully shut down:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>$ tail -3 /tmp/microshift.log</pre>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'microshift';
  var version = 'Branch Build';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.com/hubfs/images/logos/Logo-RedHat-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
                <p class="text-nowrap">Copyright © 2022 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!--adjust sidebar and toc when footer is displayed -->
  <script type="text/javascript">
    sidebar = document.querySelector('.sidebar')
    toc = document.querySelector('#toc')
    main = document.querySelector('.main')
    okd_footer = document.querySelector('.footer-origin-docs')

    //handle short pages
    if (window.innerHeight === document.documentElement.scrollHeight) {
      //sidebar
      if (sidebar !== null && okd_footer == null) {
        sidebar.style.marginBottom = "38px";
        main.style.marginBottom = "35px";
      };
      //okd sidebar
      if(sidebar !== null && okd_footer !== null) {
        sidebar.style.marginBottom = "176px";
        main.style.marginBottom = "135px";
      }
    };

    //handle scrolling pages
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if ($(window).width() >= 1008) {
        if(sidebar !== null) {
          //pages with multiple toc entries
          if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
              //sidebar
              if (sidebar !== null && okd_footer == null){
                sidebar.style.marginBottom = "38px";
                main.style.marginBottom = "35px";
              };
              //toc
              if (toc !== null && okd_footer == null){
                toc.style.bottom = "35px";
              };
              //okd sidebar
              if(sidebar !== null && okd_footer !== null) {
                sidebar.style.marginBottom = "176px";
                main.style.marginBottom = "135px";
              };
              //okd toc
              if (toc !== null && okd_footer !== null){
                toc.style.bottom = "175px";
              };
            };
          if(document.documentElement.scrollHeight != window.pageYOffset + window.innerHeight) {
            sidebar.style.marginBottom = "0px";
            if (toc !== null) {
              toc.style.bottom = "0px";
            }
          }
        }
      }
    })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

</body>
</html>